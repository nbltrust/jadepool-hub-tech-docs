## 通信安全
Hub系统和前置系统通过ECC保障通信安全，所以都需要配置对方的公钥在自己系统内，在接收信息时用公钥进行验签。

在该场景下，前置系统需要调用拥有高级权限的sudo API，即app ID是sudo。sudo的作用是使用最高权限的APP ID来调用特殊API，包括钱包业务，AML流程对接。

前置系统需要开启sudo功能并为sudo配置通信公钥，方可使用。方法如下：
1. 登陆Admin系统，前往"高级管理" -> "系统设置"
2. 点击“系统设置”栏，在"sudo接口配置"模块下，点击启用，并在"sudokey配置"设置通信公钥。

## 运营热钱包
根据需求，所有用户钱包消耗的手续费都由运营方承担，所以运营热钱包的作用是，承担该使用场景下资金流转所需要消耗的所有手续费。
1. 调用Hub接口创建运营钱包（mode=safe）
2. 补充运营手续费，有两种做法：
	i. 直接转账到主地址。
	ii. 转账到充值地址，经过AML后汇总到主地址。

调用Hub接口生成充值地址，手动充值。
如果使用BTC，通过AML后会直接汇总。如果使用ETH，请注意：
运营人员需手动向充值地址充值两笔，一笔用做该充值地址资产转移到主地址的手续费，称作充值1。另一笔是转移到主地址的资产用于负担用户钱包的手续费，称作充值2。两笔充值的结果Hub系统会发送通知。前置系统不需要对充值1做任何后续处理，不要通过AML并请求汇总到热主地址，否则会陷入没有手续费的死循环。然后前置系统调用Hub系统接口请求将充值2转移到主地址。后续版本将优化ETH。

该场景下只能有一个钱包可以作为承担手续费的钱包。设置方法：

1. 前往钱包首页，选择需要设置为承担手续费钱包的“全托管模式”钱包点击进入
2. 点击进入“设置”->“通用”页面
3. 勾选选项“将当前钱包设置为承担手续费钱包”

**注意：**对于BTC来说，承担手续费钱包的作用是系统直接挑选其主地址的utxo作为手续费。对于ETH来说，作用是当其他钱包收到来自其主地址的入账，订单类型是AIRDROP（空投）。

## 用户热钱包
调用Hub接口创建用户钱包（mode=safe）

## 回调通知地址
设置回调地址，可通过API “/v2/s/utilities/set_callback”设置，也可在界面上设置。设置方法：
1. 前往“高级管理” -> “系统设置” -> “系统配置”
2. 在“通知配置”模块下，设置所有订单类型的通知地址。