### 订单
订单是Jadepool Hub处理请求和记录交易的基本单位。是Jadepool Hub所有业务的根本依据。
<br>

### 入账、出账
**入账**：增加Jadepool Hub热钱包余额的订单类型，包括：充值、冷转热、未知入账、内部入账、空投、特殊入账
<br>
**出账**：减少Jadepool Hub热钱包余额的订单类型，包括：提现、热转冷、内部出账、退款

### 资产策略（水位、百分比）
**热转冷触发条件**：
1. 当热钱包中存储的token数量超过设置上限
2. “热钱包token数量/热钱包token数量+冷钱包token数量”百分比超过上限
3. 1且2，上述两者都满足

对热钱包的每个代币都可以设置选择上述的其中之一作为触发条件，满足后即触发热转冷订单生成。

**热转冷后热钱包剩余**：
1. 触发热转冷后的热钱包剩余token数量
2. 触发热转冷后的“热钱包token数量/热钱包token数量+冷钱包token数量”百分比
3. 1或2，上述二者选其一

**告警**：若token余额低于此配置，系统会发送告警邮件。每个开启的token都可配置。

详情可阅读[设置钱包资产策略](asset-strategy.md)。

### 热主地址
热钱包主要地址。热主地址不是充值地址，不会提供给用户充值（除memo充值模式的区块链），一般被用来汇总、找零或补充热钱包余额。

### 冷钱包地址
由使用者自行设置在Seed Vault的地址，当存储在热钱包中的资产达到一定金额后会自动将一部分转移到冷钱包地址。转移的金额根据上述高水位、目标水位设置配合决定。冷钱包不由Jadepool Hub控制。当热钱包中的余额过低时，使用者需要手动将资产从冷钱包转账到热钱包。

### 汇总
汇总是把用户向充值地址充值的金额转移到热主地址。以ETH为例，ETH的每个地址都有nonce（出账交易的递增序列号），并且交易转账来源地址只能有一个。Jadepool Hub为了方便管理地址和交易，将热主地址作为出账交易的唯一来源地址。所以只有在热主地址的余额才是真正可以被使用的金额（即可用余额），充值地址的余额被汇总到热主地址以后才能被使用。

### 总余额、可用余额、不可用余额
**总余额**：等于可用余额和不可用余额的总和。
<br>
**可用余额**：可以用作出账的余额。
<br>
**不可用余额**：不可以用作出账的余额，即对于多地址模式的币种来说散落在充值地址的余额总和。memo充值模式的币种的不可用余额总为0。
<!-- <br>
**冻结金额**：已被抵押(delegate/stake)的金额总和。冻结金额不包含在总余额中。
<br>
**解冻中金额**：正在解抵押(undelegate/unstake)的金额总和。因为每个链对解抵押的时间要求不一样，可能短至三天，长至二十一天，所以称之为解冻中。解冻中金额不包含在总余额中。 -->

### 回调
回调即Jadepool Hub通知应用方订单状态和审计结果的方式。对于每一个热钱包下的每一个服务（appid），应用方可对每种订单类型设置回调通知地址。

### ECC
ECC是为保证热钱包安全⽽在内部各组件之间还有前置系统之间通信使⽤的加密算法。作为信息发送⽅的组件应有私钥对信息签名，⽽作为接收⽅的组件则需要有消息发送⽅的公钥以对信息进⾏验签。举例：前置系统需要有⼀个通信私钥，并在热钱包Admin管理系统配置其对应公钥，当前置系统调⽤热钱包API进⾏业务请求时，需要⽤通信私钥对API请求数据进⾏签名，当热钱包收到请求时会⽤公钥对签名进⾏验证，验证通过后才会接受请求。Jadepool Hub的公钥可以在admin的Jadepool服务页面获得，配置应用方公钥则应在指定钱包的“应用管理”页面对指定的应用服务（App ID）进行添加设置。

### 热钱包
为方便客户多个产品对接，Jadepool Hub支持创建多个热钱包。其基本原理是每个热钱包的地址衍生路径所在帐户不同，不仅提高了安全性，也实现各钱包资金隔离。所以各个热钱包的地址是从一个seed衍生而来，但是所在帐户不一样，地址之间并无联系。关于热钱包的更多说明请阅读[热钱包](hot-wallet.html)。

### App ID
在每个热钱包下可以创建多个App ID，即方便对接需要使用同一个热钱包的多个服务。在Admin可以对每个App ID针对每个订单类型设置不同的回调地址。

### 授权
授权是ERC20合约中的approve方法，发起授权的地址是授权另一个指定地址有权挪用它自己拥有的一定金额的ERC20，并且挪用token的时候，由被授权地址支付交易手续费。举例：地址1里有代币ABC 100个，地址1授权地址2有权挪用一万个ABC，这样地址2只要挪用地址1的ABC的金额在一万个ABC额度以内，可以不需要地址1的签名直接将ABC转出，并且由地址2付交易手续费。如果额度不够则需要地址1再度授权地址2。Jadepool Hub使用这个方法将充值地址中的ERC20汇总到热主地址，可以大幅节省手续费。
因为授权交易也是需要消耗手续费的，所以充值地址每次授权热主地址的金额是区块链接受的数字最大值，即只需要一次授权。

### Await Plan
Await Plan是一个串行执行的计划。计划中可以包含多个步骤，每一步执行成功才能继续执行下一步。以ETH举例，最常见的Await Plan是：1.热主地址向充值地址转ETH，2. 充值地址发起授权交易， 3. 充值地址的ERC20被汇总到热主地址。
